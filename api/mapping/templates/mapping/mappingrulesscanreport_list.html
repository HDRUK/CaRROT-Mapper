{% extends "base.html" %}

{% block body %}



<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
        <li class="breadcrumb-item"><a href="{% url 'scan-report-list' %}">Scan
            reports</a></li>
        <li class="breadcrumb-item">
          <a href="{% url 'tables' %}?search={{ scan_report.id }}">   {{ scan_report.data_partner.name }} - {{ scan_report.dataset }} </a>
	</li>
    </ol>
</nav>

<div class="container" id="output">
	<div id='root'></div>
    <script type="text/javascript" >
        var csrfmiddlewaretoken = "{{csrf_token}}"
		var a = "{{a}}"
        var u = "{{u}}"
		var s = document.createElement("script");
        s.type = "module";
		s.innerHTML = null;
		if(window.location.href.split("mapping_rules/")[1].split("/").length>1){
            s.src = "../../../../static/javascript/react/src/mappingRules.js";
		}
		else{
            s.src = "../../../static/javascript/react/src/mappingRules.js";
		}
		document.getElementsByTagName('head')[0].appendChild(s)


		var refreshRules = async function () {
			//use ajax to post a request to retrieve one
			console.log("it called")
			const res = await $.ajax({
				type: "POST",
				url: window.location,
				data: {
					'refresh_rules': true,
					'csrfmiddlewaretoken': '{{ csrf_token }}',
				}
			});
			return res;
		}

		var getSVG = async function () {
			const response = await $.ajax({
				type: "POST",
				url: window.location,
				data: {
					'get_svg': true,
					'csrfmiddlewaretoken': '{{ csrf_token }}',
				}
			});
			return response
		}
    </script>
</div>




{% endblock %}

